<template>
  <div class="container">
    <div class="weui-search-bar__box">
      <icon class="weui-icon-search_in-box" type="search" size="20"></icon>
      <input type="text" class="weui-search-bar__input" placeholder="è¯·è¾“å…¥ç‰‡åã€ä¸»æ¼”æˆ–å¯¼æ¼”" bindinput="bindKeyInput" />
    </div>
    <swiper class="swiper" :indicator-dots="indicatorDots" :autoplay="autoplay" :interval="interval" :duration="duration">
      <block v-for="(item, index) in imgUrls" :key="index">
        <swiper-item>
          <image :src="item" mode="aspectFill" class="slide-image" />
          <view class="image_info">
          <text>æ›´æ–°è‡³11é›†</text>
          </view>
          <text class="image_title">ã€åˆ›é€ 101ã€‘22äººç¦»å¼€ç‹å˜‰å°”ç¥é…åˆ</text>
        </swiper-item>
      </block>
    </swiper>    
  </div>
</template>

<script>
import card from "@/components/card";
import swipers from "@/components/swiper";
export default {
  data() {
    return {
      indicatorDots: false,
      autoplay: false,
      interval: 5000,
      duration: 1000,
      imgUrls: [
        "http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg",
        "http://img06.tooopen.com/images/20160818/tooopen_sy_175866434296.jpg",
        "http://img06.tooopen.com/images/20160818/tooopen_sy_175833047715.jpg"
      ],
      sections: [
        {
          section_title: "åˆ›é€ 101 äººæ°”å­¦é•¿åŠ©é˜µå…¬æ¼”",
          posterImgUrl: "http://puui.qpic.cn/tv/0/25725891_1080607/0",
          posterDetail: "06-09",
          posterTitle: "ğŸµå…­é¦–åŸåˆ›å”±è·³è¶…è¿‡ç˜¾",
          videos: [
            {
              imgUrl: "http://puui.qpic.cn/tv/0/25725670_498280/0",
              videoInfo: "06-08",
              videoTitle: "å¥”è·‘å§2Â·è¦å“­äº†",
              videoContent: "é™ˆèµ«å«æ³ªä¸å¿æ’•é‚“è¶…åç‰Œ"
            },
            {
              imgUrl: "http://puui.qpic.cn/tv/0/25642166_498280/0",
              videoInfo: "æ›´æ–°è‡³22é›†",
              videoTitle: "å¦‚æœ, çˆ±",
              videoContent: "æˆ‘å…»ä½ ğŸ’“å¼ æŸèŠæœ€æ·±æƒ…è¡¨ç™½"
            },
            {
              imgUrl: "http://puui.qpic.cn/tv/0/25731749_498280/0",
              videoInfo: "06-08",
              videoTitle: "é«˜èƒ½å°‘å¹´å›¢äº’æ€¼cp",
              videoContent: "å¼ ä¸€å±±æ¨ç´«äº’ç›¸disså¹´çºªå¤§"
            },
            {
              imgUrl: "http://puui.qpic.cn/tv/0/25730925_498280/0",
              videoInfo: "",
              videoTitle: "æˆ˜ç¥çºªÂ·ç‹¬æ’­",
              videoContent: "é™ˆä¼Ÿéœ†æ—å…ä¸Šæ¼”ä¼ å¥‡çˆ±æƒ…"
            }
          ]
        },
        {
          section_title: "å‘¨æœ«å¥½å¿ƒæƒ…ï¼Œå¿«å¿«å—¨èµ·æ¥(â—'â—¡'â—)âœŒ",
          posterImgUrl: "http://puui.qpic.cn/tv/0/25738125_498280/0",
          posterDetail: "06-09",
          posterTitle: "çˆ±å›½è€…[é¦–æ’­ ä¼šå‘˜æå‰çœ‹]",
          videos: [
            {
              imgUrl: "http://puui.qpic.cn/tv/0/25725670_498280/0",
              videoInfo: "06-08",
              videoTitle: "å¥”è·‘å§2Â·è¦å“­äº†",
              videoContent: "é™ˆèµ«å«æ³ªä¸å¿æ’•é‚“è¶…åç‰Œ"
            },
            {
              imgUrl: "http://puui.qpic.cn/tv/0/25642166_498280/0",
              videoInfo: "æ›´æ–°è‡³22é›†",
              videoTitle: "å¦‚æœ, çˆ±",
              videoContent: "æˆ‘å…»ä½ ğŸ’“å¼ æŸèŠæœ€æ·±æƒ…è¡¨ç™½"
            },
            {
              imgUrl: "http://puui.qpic.cn/tv/0/25731749_498280/0",
              videoInfo: "06-08",
              videoTitle: "é«˜èƒ½å°‘å¹´å›¢äº’æ€¼cp",
              videoContent: "å¼ ä¸€å±±æ¨ç´«äº’ç›¸disså¹´çºªå¤§"
            },
            {
              imgUrl: "http://puui.qpic.cn/tv/0/25730925_498280/0",
              videoInfo: "",
              videoTitle: "æˆ˜ç¥çºªÂ·ç‹¬æ’­",
              videoContent: "é™ˆä¼Ÿéœ†æ—å…ä¸Šæ¼”ä¼ å¥‡çˆ±æƒ…"
            }
          ]
        }
      ]
    };
  },

  components: {
    swipers
  },

  methods: {
    bindViewTap() {
      const url = "../logs/main";
      wx.navigateTo({ url });
    },
    getUserInfo() {
      // è°ƒç”¨ç™»å½•æ¥å£
      wx.login({
        success: () => {
          wx.getUserInfo({
            success: res => {
              this.userInfo = res.userInfo;
            }
          });
        }
      });
    },
    clickHandle(msg, ev) {
      console.log("clickHandle:", msg, ev);
    }
  },

  created() {
    // è°ƒç”¨åº”ç”¨å®ä¾‹çš„æ–¹æ³•è·å–å…¨å±€æ•°æ®
    this.getUserInfo();
  }
};
</script>

<style scoped>
.weui-icon-search_in-box {
  left: 0;
  top: 10rpx;
}
</style>
